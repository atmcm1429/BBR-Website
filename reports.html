<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bull & Bear Research — Reports</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <style>
    :root{
      --navy:#0f1b39;
      --navy-700:#17224a;
      --navy-600:#1c2a58;
      --text:#ffffff;
      --muted:#c7cfdf;
      --accent:#ffffff;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --maxw:1200px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Garamond, "Times New Roman", serif;background:var(--navy);color:var(--text)}

    .nav{position:sticky;top:0;z-index:50;backdrop-filter:blur(10px);background:rgba(15,27,57,.7);border-bottom:1px solid rgba(255,255,255,.08)}
    .nav-inner{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 20px}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--text)}
    .logo-img{height:36px;width:auto;display:block;border-radius:4px}
    .brand-name{font-weight:700;letter-spacing:.2px}
    .nav-links{display:flex;align-items:center;gap:18px}
    .nav-links a{color:var(--muted);text-decoration:none;font-weight:500;padding:8px 10px;border-radius:8px}
    .nav-links a:hover{color:var(--text);background:rgba(255,255,255,.06)}
    .cta{background:var(--accent);color:var(--navy) !important;padding:10px 14px !important;border-radius:10px;font-weight:700 !important;box-shadow:var(--shadow);text-decoration:none;border:1px solid var(--accent)}

    .container{max-width:1100px;margin:32px auto;padding:0 20px}
    h1{font-size:32px;margin:10px 0 8px;font-family:Garamond, "Times New Roman", serif}
    p.lead{color:var(--muted);margin:0 0 18px;font-family:Garamond, "Times New Roman", serif}

    .viewer-wrap{display:grid;grid-template-columns: 300px 1fr;gap:16px;align-items:start}
    @media (max-width: 900px){ .viewer-wrap{grid-template-columns:1fr} }
    .sidebar{background:var(--navy-700);border:1px solid var(--navy-600);border-radius:12px;padding:14px}
    .sidebar h2{font-size:16px;margin:0 0 8px;font-family:Garamond, "Times New Roman", serif}
    .search{display:flex;gap:8px;margin-bottom:10px}
    .search input{flex:1;padding:10px;border-radius:8px;border:1px solid var(--navy-600);background:#0c142f;color:var(--text);font-family:Garamond, "Times New Roman", serif}
    .list{display:flex;flex-direction:column;gap:10px;max-height:60vh;overflow:auto}
    .item{padding:10px;border:1px solid var(--navy-600);border-radius:10px;background:#0e1a3a;cursor:pointer;text-align:left;font-family:Garamond, "Times New Roman", serif}
    .item:hover{border-color:rgba(255,255,255,.35)}
    .item-title{font-weight:700;font-size:14px}
    .item-meta{color:var(--muted);font-size:12px;margin-top:2px}

    .viewer{background:var(--navy-700);border:1px solid var(--navy-600);border-radius:12px;padding:12px}
    .viewer-header{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:10px;font-family:Garamond, "Times New Roman", serif}
    .viewer-header .title{font-weight:700}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:8px;background:var(--accent);color:var(--navy);font-weight:700;border:1px solid var(--accent);cursor:pointer;font-family:Garamond, "Times New Roman", serif}
    .btn.ghost{background:none;color:var(--muted);border:1px solid var(--navy-600)}
    .pdf-frame{width:100%;height:80vh;border:none;border-radius:8px;background:#0a1230}
    @media (max-width: 600px){ .pdf-frame{height:70vh} }

    .report-card{background:var(--navy-700);border:1px solid var(--navy-600);border-radius:12px;padding:16px;margin-top:18px;font-family:Garamond, "Times New Roman", serif}
    .report-card h3{margin:0 0 6px;font-size:18px}
    .report-card p{margin:0;color:var(--muted)}

    footer{border-top:1px solid rgba(255,255,255,.08);padding:20px;text-align:center;color:var(--muted);margin-top:28px;font-family:Garamond, "Times New Roman", serif}
  </style>


</head>
<body>
  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="index.html">
        <img src="Pictures/Backgrounds/BBR Main Logo.png" alt="Bull & Bear Research logo" class="logo-img" />
      </a>
      <nav class="nav-links">
        <a href="reports.html" style="color:var(--text);background:rgba(255,255,255,.06)">Reports</a>
        <a href="teams.html">Teams</a>
        <a href="index.html#directors">Directors</a>
        <a href="index.html#research">Research</a>
        <a class="cta" href="index.html#join">Join</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Research Reports</h1>
    <p class="lead">Browse reports in the sidebar and view the PDF inline. Use <em>Open</em> to pop out in a new tab or <em>Download</em> to save.</p>

    <section class="viewer-wrap">
      <aside class="sidebar">
        <h2>Reports</h2>
        <div class="search">
          <input id="q" type="search" placeholder="Filter by title or tag…" aria-label="Filter reports" />
        </div>
        <div id="reportList" class="list" role="list"></div>
      </aside>

      <section class="viewer">
        <div class="viewer-header">
          <div class="title" id="viewerTitle">Select a report…</div>
          <div class="controls">
            <button class="btn ghost" id="openBtn" disabled>Open</button>
            <a class="btn" id="downloadBtn" href="#" download style="pointer-events:none;opacity:.6">Download</a>
          </div>
        </div>
        <iframe id="pdfFrame" class="pdf-frame" title="Report PDF Viewer" src="about:blank"></iframe>
        <noscript>
          <div class="report-card"><p>JavaScript is required to load the viewer. You can still <a href="#">download reports</a>.</p></div>
        </noscript>
      </section>
    </section>

    <div class="report-card">
      <h3>Quarterly Macro Strategy — Q3 2025</h3>
      <p>Macro indicators, equity factors, and cross‑asset signals.</p>
    </div>
    <div class="report-card">
      <h3>Equity Factor Research Note</h3>
      <p>Momentum and value spreads with backtests and implications.</p>
    </div>
    <div class="report-card">
      <h3>Alternative Data Spotlight</h3>
      <p>Novel datasets and predictive modeling applications.</p>
    </div>
  </main>

  <footer>
    © <span id="y"></span> Bull & Bear Research
  </footer>

  <script>
    const REPORTS = [
      { id: 'q3-2025-macro', title: 'Quarterly Macro Strategy — Q3 2025', date: '2025-09-15', tags: ['macro','cross-asset','outlook'], url: 'Spring 2025/Autos.pdf' },
      { id: 'equity-factor-note', title: 'Equity Factor Research Note', date: '2025-08-30', tags: ['equities','factors','momentum','value'], url: 'reports/equity-factor-note.pdf' },
      { id: 'alt-data-spotlight', title: 'Alternative Data Spotlight', date: '2025-07-20', tags: ['alt-data','ml'], url: 'reports/alt-data-spotlight.pdf' }
    ];

    const fmt = (dStr)=> new Date(dStr).toLocaleDateString(undefined,{year:'numeric',month:'short',day:'2-digit'});

    const listEl = document.getElementById('reportList');
    const frame = document.getElementById('pdfFrame');
    const titleEl = document.getElementById('viewerTitle');
    const openBtn = document.getElementById('openBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const q = document.getElementById('q');

    function renderList(filter=''){
      const f = filter.trim().toLowerCase();
      listEl.innerHTML = '';
      REPORTS
        .filter(r => !f || r.title.toLowerCase().includes(f) || (r.tags||[]).some(t=>t.toLowerCase().includes(f)))
        .sort((a,b)=> new Date(b.date)-new Date(a.date))
        .forEach(r=>{
          const item = document.createElement('button');
          item.type = 'button';
          item.className = 'item';
          item.setAttribute('role','listitem');
          item.innerHTML = `<div class="item-title">${r.title}</div><div class="item-meta">${fmt(r.date)} · ${(r.tags||[]).join(' • ')}</div>`;
          item.addEventListener('click', ()=> loadReport(r.id));
          listEl.appendChild(item);
        });
    }

    function pdfSrc(url){
      const hash = '#toolbar=1&navpanes=0&view=FitH';
      return url + hash;
    }

    function loadReport(id){
      const r = REPORTS.find(x=>x.id===id);
      if(!r) return;
      titleEl.textContent = r.title;
      frame.src = pdfSrc(r.url);
      openBtn.disabled = false;
      openBtn.onclick = () => window.open(r.url, '_blank','noopener');
      downloadBtn.href = r.url;
      downloadBtn.style.pointerEvents = 'auto';
      downloadBtn.style.opacity = '1';
      history.replaceState(null,'', `#${encodeURIComponent(id)}`);
    }

    q.addEventListener('input', e=> renderList(e.target.value));

    function initFromHash(){
      const id = decodeURIComponent(location.hash.replace(/^#/,'')||'');
      if(id){ loadReport(id); }
    }

    renderList('');
    initFromHash();

    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
